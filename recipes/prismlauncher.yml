name: prismlauncher
repo: https://github.com/PrismLauncher/PrismLauncher.git
deps:
  - cmake
  - ninja-build
  - extra-cmake-modules
  - pkg-config
  - scdoc
  - cmark
  - gamemode-dev
  - libarchive-dev
  - libcmark-dev
  - libqrencode-dev
  - zlib1g-dev
  - libxcb-cursor-dev
  - libtomlplusplus-dev
  - qt6-base-dev
  - qt6-5compat-dev
  - qt6-networkauth-dev
  - openjdk-21-jdk
  - libgl1-mesa-dev
  - g++
  - gcc
build: |
  cmake -S . -B build -DCMAKE_INSTALL_PREFIX=/usr
  cmake --build build -j$(nproc)
  DESTDIR=pkg cmake --install build
  mkdir -p pkg/DEBIAN
  echo -e "Package: prismlauncher\nVersion: $(git describe --tags)\nArchitecture: amd64\nMaintainer: gnuvalerie\nDepends: openjdk-17-jre-headless, qtbase5-dev\nDescription: Minecraft launcher" > pkg/DEBIAN/control
